services:
  
  libremdb:
    container_name: libremdb
    image: quay.io/pussthecatorg/libremdb:latest
    restart: always
    ports:
      - 3000:3000
    environment:
      - "NEXT_TELEMETRY_DISABLED=1"
      - "NEXT_PUBLIC_URL=https://libremdb.nullnet.services"
      - AXIOS_USERAGENT=Mozilla/5.0 (X11; Linux x86_64; rv:108.0) Gecko/20100101 Firefox/108.0"
      - AXIOS_ACCEPT="text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8"
    user: nobody
    read_only: true
    tmpfs:
      - /app/.next/cache/:size=10M,mode=0770,uid=65534,gid=65534,noexec,nosuid,nodev
    security_opt:
      - no-new-privileges:true
    cap_drop:
      - ALL
    networks:
      - libremdb

networks:
  libremdb: